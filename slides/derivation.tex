\documentclass[preview]{standalone}

\input{packages}
\input{../macros}

\begin{document}

\begin{figure*}[htp]

\scalebox{0.70}{

  \begin{minipage}{1.3\textwidth}

    \begin{mathpar}
      {
        \inferrule*[Right=$\Pi$-intro]
        {
          \inferrule*[Right=$\Pi$-intro]
          {
            \inferrule*[Right=$\Pi$-intro]
            {
              \inferrule*[Right=$\land$-elim]
              {
                {
                  \inferrule*
                  { }
                  {
                    \ldots , H : A \land B \Entails \coqinline{H} \HasType A \land B
                  }
                }
                \and
                {
                  \inferrule*[Right=$\land$-intro]
                  {
                    {
                      \inferrule*
                      { }
                      {
                        \ldots , H_A : A , H_B : B \Entails \coqinline{HA} \HasType A
                      }
                    }
                    \and
                    {
                      \inferrule*
                      { }
                      {
                        \ldots , H_A : A , H_B : B \Entails \coqinline{HB} \HasType B
                      }
                    }
                  }
                  {
                    \ldots , H : A \land B , H_A : A , H_B : B \Entails \coqinline{conj HB HA} \HasType A \land B
                  }
                }
              }
              {
                \ldots , H : A \land B \Entails \coqinline{match H with conj HA HB => conj HB HA end} \HasType B \land A
              }
            }
            {
              A : \texttt{Prop}, B : \texttt{Prop} \Entails \coqinline{λ H → match ... end} \HasType A \land B \rightarrow B \land A
            }
          }
          {
            A : \texttt{Prop} \Entails \coqinline{λ B H → match ... end} \HasType \Pi (B : \texttt{Prop}) \rightarrow A \land B \rightarrow B \land A
          }
        }
        {
          \Entails \coqinline{λ A B H → match ... end} \HasType \Pi (A\ B : \texttt{Prop}) \rightarrow A \land B \rightarrow B \land A
        }
      }
    \end{mathpar}

  \end{minipage}

}

\end{figure*}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
